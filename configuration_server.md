# Конфигурация сервера

## Использование директории конфигурации

Директории конфигурации при запуске выбирается опцией `config:`.

Директории конфигурации по умолчанию смотрятся в папке `/SunEngine/SunEngine.Cli/`, если надо использовать конфигурацию из другого места - указывайте полный путь, или относительный через "..". Директория конфигурации либо `Config` по умолчанию, либо должна заканчиваться на суффикс ".Config", который автоматически добавляется к опции.

Примеры:

Запуск с директорией по умолчанию `Config`
`dotnet SunEngine.dll server`

Запуск с директорией `local.mysite.com.Config` (суффикс `.Config` добавляется автоматически)
`dotnet SunEngine.dll server config:local.mysite.com`

Команда config действует так же и для всех других для команд: init, migrate, seed..., например:

`dotnet SunEngine.dll migrate init seed config:local.mysite.com`

Префикс `local.` и `l.` добавлен в `.gitignore` , что позволяет файлам локальной конфигурации не уходить на гитхаб:

```
[Ll]ocal.*
[Ll].*
```

## Содержание директории конфигурации

Используется только для стартовой инициализации базы, команда init:

- "Categories" - создание и настройка категорий, только для команды init, далее на рабочем сервере категории настраиваются через админку
- "Menu" - создание и настройка меню сайта, только для команды init, далее на рабочем сервере меню настраиваются через админку
- "Users.json" - создание пользователей для init
- "Roles.json" - создание ролей пользователей и их прав для init

Используется всегда:

- "DataBaseConnection.json" - подключение к базе данных
- "SunEngine.json" - основные настройки сайта
- "Sanitizer.json" - настройка очистки текстов от запрещённых тегов, атрибутов, css классов, стилей css, доменов в iframe.
