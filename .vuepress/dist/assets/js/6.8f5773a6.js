(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{213:function(e,n,a){"use strict";a.r(n);var t=a(98),i=Object(t.a)({},function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"api-сервера"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-сервера","aria-hidden":"true"}},[e._v("#")]),e._v(" API сервера")]),e._v(" "),a("h2",{attrs:{id:"api-menu-getallmenuitems"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-menu-getallmenuitems","aria-hidden":"true"}},[e._v("#")]),e._v(" /api/Menu/GetAllMenuItems")]),e._v(" "),a("p",[e._v("Получение всех пунктов главного меню.")]),e._v(" "),a("p",[e._v("Реквест:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("POST /api/Menu/GetAllMenuItems\n")])])]),a("p",[e._v("Пример респонса (c sunengine.site):")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('[{\n    "id": 1,\n    "parent": null,\n    "parentId": null,\n    "name": "Root",\n    "title": "Root",\n    "subTitle": null,\n    "routeName": null,\n    "routeParamsJson": null,\n    "exact": false,\n    "settingsJson": null,\n    "cssClass": null,\n    "externalUrl": null,\n    "isSeparator": false,\n    "sortNumber": 1,\n    "icon": null,\n    "customIcon": null,\n    "isHidden": false\n}, {\n    "id": 2,\n    "parent": null,\n    "parentId": 1,\n    "name": "DocsMenu",\n    "title": "Документация",\n    "subTitle": null,\n    "routeName": null,\n    "routeParamsJson": null,\n    "exact": false,\n    "settingsJson": null,\n    "cssClass": null,\n    "externalUrl": null,\n    "isSeparator": false,\n    "sortNumber": 2,\n    "icon": "fas fa-bars",\n    "customIcon": null,\n    "isHidden": false\n}, {\n    "id": 12,\n    "parent": null,\n    "parentId": 20,\n    "name": null,\n    "title": "О проекте",\n    "subTitle": null,\n    "routeName": "cat-Texts-mat",\n    "routeParamsJson": {\n        "idOrName": "about"\n    },\n    "exact": false,\n    "settingsJson": null,\n    "cssClass": null,\n    "externalUrl": null,\n    "isSeparator": false,\n    "sortNumber": 5,\n    "icon": "fas fa-info-circle",\n    "customIcon": null,\n    "isHidden": false\n}, {\n    "id": 11,\n    "parent": null,\n    "parentId": 2,\n    "name": null,\n    "title": "Требования для запуска",\n    "subTitle": "Prerequisites",\n    "routeName": "articles-Docs-mat",\n    "routeParamsJson": {\n        "idOrName": "7"\n    },\n    "exact": false,\n    "settingsJson": null,\n    "cssClass": null,\n    "externalUrl": null,\n    "isSeparator": false,\n    "sortNumber": 9,\n    "icon": null,\n    "customIcon": null,\n    "isHidden": false\n}, {\n    "id": 9,\n    "parent": null,\n    "parentId": 2,\n    "name": null,\n    "title": "Запуск SunEngine",\n    "subTitle": "В development режиме",\n    "routeName": "articles-Docs-mat",\n    "routeParamsJson": {\n        "idOrName": "5"\n    },\n    "exact": false,\n    "settingsJson": null,\n    "cssClass": null,\n    "externalUrl": null,\n    "isSeparator": false,\n    "sortNumber": 10,\n    "icon": null,\n    "customIcon": null,\n    "isHidden": false\n}, {\n    "id": 33,\n    "parent": null,\n    "parentId": 2,\n    "name": null,\n    "title": "Конфигурация",\n    "subTitle": "Директория конфигурации",\n    "routeName": "articles-Docs-mat",\n    "routeParamsJson": {\n        "idOrName": "38"\n    },\n    "exact": false,\n    "settingsJson": null,\n    "cssClass": null,\n    "externalUrl": null,\n    "isSeparator": false,\n    "sortNumber": 33,\n    "icon": null,\n    "customIcon": null,\n    "isHidden": false\n}]\n')])])]),a("h2",{attrs:{id:"api-materials-get"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-materials-get","aria-hidden":"true"}},[e._v("#")]),e._v(" /api/Materials/Get")]),e._v(" "),a("p",[e._v("Получение материала по {id}")]),e._v(" "),a("p",[e._v("Запрос:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("POST /api/Materials/Get\n\nmultipart/form-data\nidOrName: {id}\n")])])]),a("p",[e._v("Пример ответа:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n    "name": null,\n    "id": 38,\n    "title": "Файлы конфигурации",\n    "subTitle": null,\n    "text": "<h4>Использование директории конфигурации</h4><div>Директории конфигурации при запуске выбирается опцией config:</div><div>Директории конфигурации по умолчанию смотрятся в папке&nbsp;<i>\\"/SunEngine/SunEngine.Cli/\\", если надо использовать конфигурацию из другого места</i>&nbsp;- указывайте полный путь, или относительный через<i> \\"..\\". </i>Директория конфигурации либо <i>\\"Config\\"</i> - по умолчанию, либо должна заканчиваться на суффикс <i>\\".Config\\"</i>, который автоматически добавляется к опции.<br><div><br></div><div><b>Примеры:</b></div><div><i>\\"dotnet SunEngine.dll server\\"</i> - запуск с директорией по-умолчанию <i>\\"Config \\"</i></div><div><i>\\"dotnet SunEngine.dll server config:MySite</i>\\" - запуск с директорией <i>\\"MySite.Config\\"</i> (суффикс <i>\\".Config\\"</i> добавляется автоматически)<br></div><div><i>\\"dotnet SunEngine.dll server config:MySite.Config\\"</i> - то же самое, <i>\\"MySite.Config\\"</i><br></div><div><i><br></i></div><div>Команда config действует так же и для всех других для команд: <i>init, migrate, seed</i>..., например:</div><div><i>\\"dotnet SunEngine.dll migrate init seed config:MySite\\"</i><br></div><div><br></div><div>Для того что бы ваш конфиг не перезатирался после обновления с GitHub просто скопируйте<i> \\"Config\\"</i> в другую папку, суффикс <i>\\".Config\\"</i> обязателен, например <i>\\"my_site.com.Config\\"</i>.</div><div>Можно использовать префикс<i> \\"local.\\"</i> в этом случае эта папка не будет пушится в GitHub, так как приставка <i>\\"local\\"</i> прописана в <i>\\".gitignore\\":</i></div><div><pre>[Ll]ocal.*<br>[Ll].*</pre><div><span style=\\"font-family: Roboto, -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; white-space: normal;\\">Например:</span><i style=\\"font-family: Roboto, -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; white-space: normal;\\"> \\"local.</i><i style=\\"font-family: Roboto, -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; white-space: normal;\\">my_site.com.Config\\" </i><span style=\\"font-family: Roboto, -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; white-space: normal;\\">или</span><i style=\\"font-family: Roboto, -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; white-space: normal;\\">&nbsp;</i><i style=\\"font-family: Roboto, -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; white-space: normal;\\">&nbsp;\\"l.</i><i style=\\"font-family: Roboto, -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; white-space: normal;\\">my_site.com.Config\\" .</i></div></div><h4>Содержание директории конфигурации</h4></div><h5>Только для стартовой инициализации базы, команда init</h5><div><i>\\"Categories\\"</i> - создание и настройка категорий, только для команды init, далее на рабочем сервере категории настраиваются через админку</div><div><i>\\"Menu\\"</i>&nbsp; - создание и настройка меню сайта, только для команды init, далее на рабочем сервере меню настраиваются через админку</div><div><i>\\"Users.json\\" </i>- создание пользователей для init<br></div><div><i>\\"Roles.json\\"</i> - создание ролей пользователей и их прав для init</div><h5>Постоянные настройки</h5><div><i>\\"DataBaseConnection.json\\" </i>- подключение к базе данных</div><div><div><i>\\"SunEngine.json\\" </i>- основные настройки сайта</div></div><div><i>\\"Sanitizer.json\\"</i> - настройка очистки текстов от запрещённых тегов, атрибутов, css классов, стилей css, доменов в iframe.</div><div><br></div>",\n    "authorName": "Dmitrij Polianin",\n    "authorId": 1,\n    "authorLink": "1",\n    "authorAvatar": "67/CFUffWb3tkRlGOUGHMPp.jpg",\n    "commentsCount": 0,\n    "publishDate": "2019-07-08T17:32:11.928288Z",\n    "editDate": "2019-07-09T07:46:24.451854Z",\n    "categoryName": "Docs",\n    "isCommentsBlocked": true,\n    "isHidden": false,\n    "isDeleted": false,\n    "tags": ["config", "конфигурация", "настройка"]\n}\n')])])]),a("h2",{attrs:{id:"api-comments-getmaterialcomments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-comments-getmaterialcomments","aria-hidden":"true"}},[e._v("#")]),e._v(" /api/Comments/GetMaterialComments")]),e._v(" "),a("p",[e._v("Получение комментариев к материалу по его {id}")]),e._v(" "),a("p",[e._v("Запрос:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("POST /api/Comments/GetMaterialComments\n\nmultipart/form-data\nmaterialId: {id}\n")])])]),a("p",[e._v("Пример ответа:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('[{\n    "id": 28,\n    "authorId": 1,\n    "authorName": "Dmitrij Polianin",\n    "authorLink": "1",\n    "authorAvatar": "67/CFUffWb3tkRlGOUGHMPp.jpg",\n    "text": "<div><img class=\\"text-img\\" src=\\"https://sunengine.site/UploadImages/114/rOZB5jIPZ1WHsYedH95d.jpg\\"></div>",\n    "publishDate": "2019-07-06T17:11:13.350622Z",\n    "editDate": "2019-07-06T17:11:13.350622Z",\n    "isDeleted": false\n}, {\n    "id": 29,\n    "authorId": 1,\n    "authorName": "Dmitrij Polianin",\n    "authorLink": "1",\n    "authorAvatar": "67/CFUffWb3tkRlGOUGHMPp.jpg",\n    "text": "<div><img src=\\"https://sunengine.site/UploadImages/113/qc4MFQQ1xyEyAagS5pjI.jpg\\"></div>",\n    "publishDate": "2019-07-08T16:40:29.771037Z",\n    "editDate": "2019-07-08T16:40:29.771037Z",\n    "isDeleted": false\n}, {\n    "id": 30,\n    "authorId": 1,\n    "authorName": "Dmitrij Polianin",\n    "authorLink": "1",\n    "authorAvatar": "67/CFUffWb3tkRlGOUGHMPp.jpg",\n    "text": "<div><img src=\\"https://sunengine.site/UploadImages/71/GiSkHpXEVrazyuDQt7jD.jpg\\"></div>",\n    "publishDate": "2019-07-08T17:48:33.844441Z",\n    "editDate": "2019-07-08T17:48:33.844441Z",\n    "isDeleted": false\n}]\n')])])]),a("h2",{attrs:{id:"api-categories-getallcategoriesandaccesses"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-categories-getallcategoriesandaccesses","aria-hidden":"true"}},[e._v("#")]),e._v(" /api/Categories/GetAllCategoriesAndAccesses")]),e._v(" "),a("p",[e._v("Требуется описание.")]),e._v(" "),a("p",[e._v("Запрос:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("POST /api/Categories/GetAllCategoriesAndAccesses\n")])])]),a("p",[e._v("Пример ответа:")]),e._v(" "),a("div",{staticClass:"language-{ extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('    "id": 1,\n    "name": "Root",\n    "title": "Root",\n    "sortNumber": 1,\n    "materialsSubTitleInputType": 0,\n    "isMaterialsNameEditable": false,\n    "isMaterialsContainer": false,\n    "isHidden": false,\n    "categoryPersonalAccess": {\n        "materialAndCommentsRead": true\n    },\n    "subCategories": [{\n        "id": 2,\n        "name": "Blog",\n        "title": "Блог",\n        "sortNumber": 2,\n        "layoutName": "Blog",\n        "materialsSubTitleInputType": 0,\n        "isMaterialsNameEditable": false,\n        "isMaterialsContainer": true,\n        "isHidden": false,\n        "categoryPersonalAccess": {\n            "materialAndCommentsRead": true\n        }\n    }, {\n        "id": 4,\n        "name": "Texts",\n        "title": "Тексты сайта",\n        "sortNumber": 4,\n        "layoutName": "Articles",\n        "materialsSubTitleInputType": 0,\n        "isMaterialsNameEditable": true,\n        "isMaterialsContainer": true,\n        "isHidden": false,\n        "categoryPersonalAccess": {\n            "materialAndCommentsRead": true\n        }\n    }, {\n        "id": 12,\n        "name": "SunEngine",\n        "title": "SunEngine",\n        "sortNumber": 5,\n        "materialsSubTitleInputType": 0,\n        "isMaterialsNameEditable": false,\n        "isMaterialsContainer": false,\n        "isHidden": false,\n        "categoryPersonalAccess": {\n            "materialAndCommentsRead": true\n        },\n        "subCategories": [{\n            "id": 3,\n            "name": "Docs",\n            "title": "Документация",\n            "sortNumber": 3,\n            "layoutName": "Docs",\n            "materialsSubTitleInputType": 0,\n            "isMaterialsNameEditable": false,\n            "isMaterialsContainer": true,\n            "isHidden": false,\n            "categoryPersonalAccess": {\n                "materialAndCommentsRead": true\n            }\n        }, {\n            "id": 17,\n            "name": "Video-SE",\n            "title": "Видео",\n            "sortNumber": 17,\n            "layoutName": "Articles",\n            "materialsSubTitleInputType": 0,\n            "isMaterialsNameEditable": false,\n            "isMaterialsContainer": true,\n            "isHidden": false,\n            "categoryPersonalAccess": {\n                "materialAndCommentsRead": true\n            }\n        }]\n    }, {\n        "id": 13,\n        "name": "HappyDeveloper",\n        "title": "Happy Developer",\n        "sortNumber": 12,\n        "materialsSubTitleInputType": 0,\n        "isMaterialsNameEditable": false,\n        "isMaterialsContainer": true,\n        "isHidden": false,\n        "categoryPersonalAccess": {\n            "materialAndCommentsRead": true\n        },\n        "subCategories": [{\n            "id": 14,\n            "name": "Video-HD",\n            "title": "Видео",\n            "sortNumber": 14,\n            "layoutName": "Articles",\n            "materialsSubTitleInputType": 0,\n            "isMaterialsNameEditable": false,\n            "isMaterialsContainer": true,\n            "isHidden": false,\n            "categoryPersonalAccess": {\n                "materialAndCommentsRead": true\n            }\n        }, {\n            "id": 15,\n            "name": "Articles-HD",\n            "title": "Статьи",\n            "sortNumber": 15,\n            "layoutName": "Articles",\n            "materialsSubTitleInputType": 0,\n            "isMaterialsNameEditable": false,\n            "isMaterialsContainer": true,\n            "isHidden": false,\n            "categoryPersonalAccess": {\n                "materialAndCommentsRead": true\n            }\n        }]\n    }, {\n        "id": 5,\n        "name": "Forum",\n        "title": "Forum",\n        "sortNumber": 13,\n        "layoutName": "Forum1",\n        "materialsSubTitleInputType": 0,\n        "isMaterialsNameEditable": false,\n        "isMaterialsContainer": false,\n        "isHidden": false,\n        "categoryPersonalAccess": {\n            "materialAndCommentsRead": true\n        },\n        "subCategories": [{\n            "id": 6,\n            "name": "General",\n            "title": "Основной",\n            "sortNumber": 6,\n            "materialsSubTitleInputType": 0,\n            "isMaterialsNameEditable": false,\n            "isMaterialsContainer": true,\n            "isHidden": false,\n            "categoryPersonalAccess": {\n                "materialAndCommentsRead": true\n            }\n        }, {\n            "id": 10,\n            "name": "UI",\n            "title": "Интерфейс",\n            "header": "<div style=\\"text-align: center\\">Предложения по улучшению юзабилити и интерфейса SunEngine</div>",\n            "sortNumber": 7,\n            "materialsSubTitleInputType": 0,\n            "isMaterialsNameEditable": false,\n            "isMaterialsContainer": true,\n            "isHidden": false,\n            "categoryPersonalAccess": {\n                "materialAndCommentsRead": true\n            }\n        }, {\n            "id": 7,\n            "name": "Q&A",\n            "title": "Вопросы и ответы",\n            "sortNumber": 8,\n            "materialsSubTitleInputType": 0,\n            "isMaterialsNameEditable": false,\n            "isMaterialsContainer": true,\n            "isHidden": false,\n            "categoryPersonalAccess": {\n                "materialAndCommentsRead": true\n            }\n        }, {\n            "id": 8,\n            "name": "Help",\n            "title": "Помощь",\n            "sortNumber": 9,\n            "materialsSubTitleInputType": 0,\n            "isMaterialsNameEditable": false,\n            "isMaterialsContainer": true,\n            "isHidden": false,\n            "categoryPersonalAccess": {\n                "materialAndCommentsRead": true\n            }\n        }, {\n            "id": 9,\n            "name": "Talk",\n            "title": "Общение",\n            "sortNumber": 10,\n            "materialsSubTitleInputType": 0,\n            "isMaterialsNameEditable": false,\n            "isMaterialsContainer": true,\n            "isHidden": false,\n            "categoryPersonalAccess": {\n                "materialAndCommentsRead": true\n            }\n        }, {\n            "id": 16,\n            "name": "HappyDeveloper-Forum",\n            "title": "Счастливый разработчик",\n            "sortNumber": 16,\n            "materialsSubTitleInputType": 0,\n            "isMaterialsNameEditable": false,\n            "isMaterialsContainer": true,\n            "isHidden": false,\n            "categoryPersonalAccess": {\n                "materialAndCommentsRead": true\n            }\n        }]\n    }]\n}\n')])])])])},[],!1,null,null,null);n.default=i.exports},98:function(e,n,a){"use strict";function t(e,n,a,t,i,s,l,r){var o,u="function"==typeof e?e.options:e;if(n&&(u.render=n,u.staticRenderFns=a,u._compiled=!0),t&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),l?(o=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},u._ssrRegister=o):i&&(o=r?function(){i.call(this,this.$root.$options.shadowRoot)}:i),o)if(u.functional){u._injectStyles=o;var d=u.render;u.render=function(e,n){return o.call(n),d(e,n)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,o):[o]}return{exports:e,options:u}}a.d(n,"a",function(){return t})}}]);